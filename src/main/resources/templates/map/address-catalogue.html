<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Map</title>

    <link href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}" rel="stylesheet">
    <link href="https://cdn.90so.net/layui/2.4.5/css/layui.css" th:href="@{/webjars/layui/css/layui.css}" rel="stylesheet">
    <link href="https://cdn.staticfile.org/jstree/3.3.7/themes/default/style.min.css" th:href="@{webjars/jstree/themes/default/style.min.css}" rel="stylesheet">

    <script type="text/javascript" src="https://cdn.staticfile.org/jquery/3.4.0/jquery.min.js" th:src="@{/webjars/jquery/jquery.min.js}"></script>
    <script type="text/javascript" src="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/js/bootstrap.min.js" th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>
    <script type="text/javascript" src="https://cdn.90so.net/layui/2.4.5/layui.js" th:src="@{/webjars/layui/layui.js}"></script>
    <script type="text/javascript" src="https://cdn.90so.net/layui/2.4.5/layui.all.js" th:src="@{/webjars/layui/layui.all.js}"></script>
    <script type="text/javascript" src="https://cdn.staticfile.org/jstree/3.3.7/jstree.min.js" th:src="@{/webjars/jstree/jstree.min.js}"></script>
</head>
<body style="margin: 0 50px">
<ul class="layui-nav layui-bg-blue" lay-filter="">
    <li class="layui-nav-item"><a href="">最新活动</a></li>
    <li class="layui-nav-item layui-this"><a href="">产品</a></li>
    <li class="layui-nav-item"><a href="">大数据</a></li>
    <li class="layui-nav-item">
        <a href="javascript:;">解决方案</a>
        <dl class="layui-nav-child"> <!-- 二级菜单 -->
            <dd><a href="">移动模块</a></dd>
            <dd><a href="">后台模版</a></dd>
            <dd><a href="">电商平台</a></dd>
        </dl>
    </li>
    <li class="layui-nav-item"><a href="">社区</a></li>
</ul>
<div style="float:left;background-color: #e2e2e2;width: 270px;height: 880px; border-right: 2px solid #1E9FFF;">
    <div style="overflow: hidden; width: 270px; margin: 20px 0;">
        <i class="layui-icon layui-icon-search" style="font-size: 35px; float: left; margin: 0 10px"></i>
        <input id="container_q" class="layui-input" placeholder="搜索" style="width: 200px; float: left; border: 1px solid #01AAED;">
    </div>
    <hr class="layui-bg-blue" style="height: 2px">
    <div id="container">
        <ul>
            <li attr="attr">Root node
                <ul>
                    <li>Child node 1
                        <ul>
                            <li id="child_node_1" data-location="39.990912172420714,116.32715863448607">Child node 1</li>
                            <li>Child node 2</li>
                        </ul>
                    </li>
                    <li>Child node 2
                        <ul>
                            <li>Child node 1</li>
                            <li>Child node 2</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </div>
</div>
<iframe id="mapContent" style="float:right; width: 1530px; height: 880px" src="http://api.map.baidu.com/marker?output=html&src=webapp.hhu.elevatorMonitoringSystem&ak=Xnydmr1oWTenkGrNxvNk8WkXm6jOLcUF&title=河海大学常州校区&location=31.825418310126373,119.98784449530642"></iframe>
<script type="text/javascript">
    var mapSrcHead = "http://api.map.baidu.com/marker?output=html&src=webapp.hhu.elevatorMonitoringSystem&ak=Xnydmr1oWTenkGrNxvNk8WkXm6jOLcUF&location=";
    $(function () {
        $('#container').jstree({
            "plugins": ["search"]
        });
        var to = false;
        $('#container_q').keyup(function () {
            if (to) {
                clearTimeout(to);
            }
            to = setTimeout(function () {
                var v = $('#container_q').val();
                $('#container').jstree(true).search(v);
            }, 250);
        });
        $('#container').bind("changed.jstree", function (e, data) {
            var location = $('#' + data.node.id).attr('data-location');
            $("#mapContent").attr("src", mapSrcHead + location);
        })
    });


    function changeIcon() {
        layer.msg("hello");
    }

</script>
</body>
</html>