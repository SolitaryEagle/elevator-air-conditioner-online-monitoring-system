<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>AddInfo</title>

    <link href="https://cdn.staticfile.org/twitter-bootstrap/3.4.1/css/bootstrap.min.css" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}" rel="stylesheet">
    <link href="https://cdn.staticfile.org/jstree/3.3.8/themes/default/style.min.css" th:href="@{/webjars/jstree/themes/default/style.min.css}" rel="stylesheet">
    <link href="../../static/layui/css/layui.css" th:href="@{/webjars/layui/css/layui.css}" rel="stylesheet">

    <script type="text/javascript" src="https://cdn.staticfile.org/jquery/3.4.0/jquery.min.js" th:src="@{/webjars/jquery/jquery.min.js}"></script>
    <script type="text/javascript" src="https://cdn.staticfile.org/twitter-bootstrap/3.4.1/js/bootstrap.min.js" th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>
    <script type="text/javascript" src="https://cdn.staticfile.org/distpicker/2.0.5/distpicker.min.js"></script>
    <script type="text/javascript" src="../../static/layui/layui.js" th:src="@{/webjars/layui/layui.js}"></script>
    <script type="text/javascript" src="../../static/js/common.js" th:src="@{/js/common.js}"></script>
</head>
<body class="layui-layout-body">
<div class="layui-layout layui-layout-admin">
    <div class="layui-header">
        <div class="layui-logo" style="width: 300px; font-size: 26px;">电梯风扇监控系统</div>
        <!-- 头部区域（可配合layui已有的水平导航） -->
        <ul class="layui-nav layui-layout-left" style="left: 300px;">
            <li class="layui-nav-item"><a href="#" th:href="@{/v1/monitoring-system/page/index}">首页</a></li>
            <li class="layui-nav-item"><a href="#" th:href="@{/v1/monitoring-system/air-conditioners/page/add-info}">设备管理</a></li>
            <li class="layui-nav-item"><a href="#">维修管理</a></li>
        </ul>
        <ul class="layui-nav layui-layout-right">
            <li class="layui-nav-item">
                <a href="javascript:;">
                    <img src="http://t.cn/RCzsdCq" class="layui-nav-img">
                    贤心
                </a>
                <dl class="layui-nav-child">
                    <dd><a href="">基本资料</a></dd>
                    <dd><a href="">安全设置</a></dd>
                </dl>
            </li>
            <li class="layui-nav-item"><a href="">退出</a></li>
        </ul>
    </div>

    <div class="layui-side layui-bg-black" style="width: 300px;">
        <div class="layui-side-scroll" style="width: 100%">
            <!-- 左侧导航区域（可配合layui已有的垂直导航） -->
            <ul class="layui-nav layui-nav-tree" lay-filter="test" style="width: 100%; text-align: center">
                <li class="layui-nav-item"><a href="#" th:href="@{/v1/monitoring-system/air-conditioners/page/add-info}" style="font-size: 20px"><i class="layui-icon layui-icon-add-circle" style="font-size: 20px"></i> 添加设备</a></li>
                <li class="layui-nav-item"><a href="#" th:href="@{/v1/monitoring-system/air-conditioners/page/online-state}" style="font-size: 20px"><i class="layui-icon layui-icon-console" style="font-size: 20px"></i> 状态查看</a></li>
                <li class="layui-nav-item"><a href="" style="font-size: 20px"><i class="layui-icon layui-icon-face-surprised" style="font-size: 20px"></i> 故障查看</a></li>
            </ul>
        </div>
    </div>

    <div class="layui-body" style="left: 300px;">
        <!-- 内容主体区域 -->
        <div style="padding: 15px;">
            <div class="layui-container" style="
                border: 1px solid #1E9FFF;
                float: right;
                margin: 50px 310px 0 0;
                padding: 20px;
                background-color: #e2e2e2;
                border-radius: 10px;
                  ">
                <form id="add-info-form" action="#" th:action="@{/v1/monitoring-system/air-conditioners/add}" method="post" class="form-horizontal" role="form" style="width: 95%; margin-top: 50px;">
                    <div class="form-group">
                        <label for="brand" class="col-sm-2 control-label">品牌</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="brand" name="brand" placeholder="请输入品牌" th:value="${airConditioner != null} ? ${airConditioner.brand} : ''">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="model" class="col-sm-2 control-label">型号规格</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="model" name="model" placeholder="请输入型号规格" th:value="${airConditioner != null} ? ${airConditioner.model} : ''">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="seller" class="col-sm-2 control-label">销售单位</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="seller" name="seller" placeholder="请输入销售单位" th:value="${airConditioner != null} ? ${airConditioner.seller} : ''">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="address" class="col-sm-2 control-label"><span style="margin-right: 10px;font-size: 17px;color: red;">*</span>设备地址</label>
                        <div class="col-sm-10">
                            <div data-toggle="distpicker" id="address">
                                <select class="form-control" id="address-province" name="address.province" data-province="---- 选择省 ----" th:data-province="${airConditioner != null} ? (${airConditioner.address != null} ? ${airConditioner.address.province} : '---- 选择省 ----' ) : '---- 选择省 ----'" style="width: 32%; display: inline-block"></select>
                                <select class="form-control" id="address-city" name="address.city" data-city="---- 选择市 ----" th:data-city="${airConditioner != null} ? (${airConditioner.address != null} ? ${airConditioner.address.city} : '---- 选择市 ----' ) : '---- 选择市 ----'" style="width: 31%; display: inline-block; margin: 0 2%"></select>
                                <select class="form-control" id="address-district" name="address.district" data-district="---- 选择区 ----" th:data-district="${airConditioner != null} ? (${airConditioner.address != null} ? ${airConditioner.address.district} : '---- 选择区 ----' ) : '---- 选择区 ----'" style="width: 32%;  display: inline-block"></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="address-detail" class="col-sm-2 control-label">详细地址</label>
                        <div class="col-sm-10">
                            <textarea class="form-control" id="address-detail" name="address.detail" rows="3" style="resize:none" placeholder="请输入详细地址" th:text="${airConditioner != null} ? (${airConditioner.address != null} ? ${airConditioner.address.detail} : '' ) : ''"></textarea>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-offset-2 col-sm-10" style="width: 40%; margin: 0 auto">
                            <button class="btn btn-success" id="add-btn" style="margin: 20px 0 0 65%; width: 100px;">添加</button>
                        </div>
                        <div class="col-sm-offset-2 col-sm-10" style="width: 40%; margin: 0 auto">
                            <button class="btn btn-danger" id="reset-btn" style="margin: 20px 0 0 65%; width: 100px;">重置</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="layui-footer" style="left: 300px">
        <!-- 底部固定区域 -->
        河海大学常州校区 2015级物联网工程学院 毕业设计
    </div>
</div>

<input id="exceptionMessage" type="hidden" th:value="${exceptionMessage}">

<script type="text/javascript">
    //JavaScript代码区域
    layui.use('element', function () {
        var element = layui.element;

    });
</script>
<script type="text/javascript">

    window.onload = function (ev) {

        var message = $("#exceptionMessage").val();
        if (typeof message != "undefined" && message != null && message.length > 0) {
            layui.use('layer', function(){
                layer.msg(message, {time: 3000, skin: 'layui-bg-red',offset: '128px'});
            });
        }

        // 设置“添加”按钮事件
        document.getElementById('add-btn').onclick = function () {
            var province = $("#address-province").val().trim();
            if (typeof province == "undefined" || province == null || province.length <= 0) {
                layui.use('layer', function(){
                    layer.msg('请选择省份!', {time: 3000, skin: 'layui-bg-red',offset: '128px'});
                });
                return false;
            }
            var city = $("#address-city").val().trim();
            if (typeof city == "undefined" || city == null || city.length <= 0) {
                layui.use('layer', function(){
                    layer.msg('请选择城市!', {time: 3000, skin: 'layui-bg-red',offset: '128px'});
                });
                return false;
            }
            var district = $("#address-district").val().trim();
            if (typeof district == "undefined" || district == null || district.length <= 0) {
                layui.use('layer', function(){
                    layer.msg('请选择地区!', {time: 3000, skin: 'layui-bg-red',offset: '128px'});
                });
                return false;
            }
            var detail = $("#address-detail").val().trim();
            if (typeof detail != "undefined" && detail != null && detail.indexOf(' ') !== -1) {
                layui.use('layer', function(){
                    layer.msg('详细地址中不能包含空格!', {time: 3000, skin: 'layui-bg-red',offset: '128px'});
                });
                return false;
            }
            document.getElementById('add-info-form').submit();
        };

        // 设置“重置”按钮事件
        document.getElementById('reset-btn').onclick = function () {
            document.getElementById("brand").value = "";
            document.getElementById("model").value = "";
            document.getElementById("seller").value = "";
            document.getElementById("address-province").options[0].selected = true;
            document.getElementById("address-city").options[0].selected = true;
            document.getElementById("address-district").options[0].selected = true;
            document.getElementById("address-detail").value = "";
            return false;
        };

    };
</script>
</body>
</html>