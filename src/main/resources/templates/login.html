<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>Login</title>
	<link rel="stylesheet" href="../static/css/auth.css">
</head>

<body>
	<div class="login">
		<div class="login-brand">
			<img src="../static/image/kodinger.jpg" alt="logo">
		</div>
		<div class="login-wrapper">
			<div class="login-box login-login">
				<div class="login-box-inner">
					<form>
						<p></p>
						<div class="login-group">
							<label>邮箱 <a href="#" class="login-back-link">登录?</a></label>
							<input type="email" autocomplete="email" name="email" class="login-input">
						</div>
						<div class="login-group password-group">
							<label>密码 <a href="#" class="forgot-link">忘记密码?</a></label>
							<input type="password" name="password" autocomplete="current-password" class="login-input">
						</div>
						<button class="login-btn login-btn">
							登录
						</button>

						<div class="text-foot">
							还没有账户? <a href="" class="register-link">注册</a>
						</div>
					</form>
				</div>
			</div>

			<div class="login-box login-register">
				<div class="login-box-inner">
					<form>
						<p></p>
						<div class="login-group">
							<label>用户名 <span id="register-username-msg" style="color: red; padding-left: 10px"></span></label>
							<input id="register-username" type="text" name="username" autocomplete="username" class="login-input">
						</div>
						<div class="login-group">
							<label>邮箱 <span id="register-email-msg" style="color: red; padding-left: 10px"></span></label>
							<input type="email" autocomplete="email" name="email" class="login-input">
						</div>
						<div class="login-group">
							<label>密码 <span id="register-password-msg" style="color: red; padding-left: 10px"></span></label>
							<input id="register-password" type="password" name="password" autocomplete="current-password" class="login-input">
						</div>
						<div class="login-group">
							<label>重复密码 <span id="register-repassword-msg" style="color: red"></span></label>
							<input id="register-repassword" type="password" name="repassword" autocomplete="re-password" class="login-input">
						</div>
						<div class="login-group">
							<label>电话号码 <span id="register-phoneNumber-msg" style="color: red"></span></label>
							<input id="register-phoneNumber" type="text" name="phoneNumber" autocomplete="phone-number" class="login-input">
						</div>
						<button class="login-btn">
							注册
						</button>

						<div class="text-foot">
							已有账号? <a href="" class="login-link">登录</a>
						</div>
					</form>
				</div>
			</div>
		</div>
	
		<footer class="login-footer">
			Design By @itskodinger. More Templates <a href="http://www.cssmoban.com/" target="_blank" title="模板之家">模板之家</a> - Collect from <a href="http://www.cssmoban.com/" title="网页模板" target="_blank">网页模板</a>
		</footer>
	</div>

	<script type="text/javascript" src="../static/js/auth.js"></script>
	<script type="text/javascript">
		Auth.init({
			login_url: '#login',
			forgot_url: '#forgot'
		});
	</script>
	<script type="text/javascript">
		window.onload = function (ev) {

			// 注册用户名检测
			document.getElementById('register-username').onblur = function () {
				var username = document.getElementById('register-username').value;
				var msg = document.getElementById('register-username-msg');
				if (username.length == 0) {
					msg.innerText = "用户名不能为空！";
					return;
				}
				if (username.indexOf(' ') != -1) {
					msg.innerText = "用户名不能包含空格！";
					return;
				}
				if (username.length > 20) {
					msg.innerText = "用户名的长度不能超过10个字符！"
					return;
				}
				msg.innerText = "";
			}

			// 注册密码检测
			document.getElementById('register-password').onblur = function () {
				var password = document.getElementById('register-password').value;
				var tip = "";
				if (password.indexOf(' ') != -1) {
					tip += "密码不能包含空格！\n";
				}
				if (password.length < 8 || password.length > 16) {
					tip += "密码长度必须在8到16之间！"
				}
				if (tip.length > 0) {
					alert(tip);
					return;
				}
			}
			document.getElementById('register-repassword').onblur = function () {
				var password = document.getElementById('register-password').value;
				var repassword = document.getElementById('register-repassword').value;
				if (password != repassword) {
					alert("两次密码不一致！");
					return;
				}
			}

			// 注册电话号码检测
			document.getElementById('register-phoneNumber').onblur = function () {
				var phoneNumber = document.getElementById('register-phoneNumber').value;
				var regex = /^1\d{10}$/;
				if (!regex.test(phoneNumber)) {
					alert("电话号码格式错误！");
					return;
				}
			}
		}
	</script>
</body>
</html>